run:
  no_iso:
    prerequisiteCwd: ./
    prerequisites:
      - touch tmp/custom-ocs
    command: "docker run --rm -v ./tmp:/opt/work test_clonezilla_customizer"
    expectCode: 1
    outputContains:
      - 'ERROR: Missing base image or custom-ocs'
      - 'Correct work directory provided?'
  no_ocs:
    prerequisiteCwd: ./
    prerequisites:
      - 'rm tmp/custom-ocs' 
      - 'touch tmp/clonezilla.iso'
    command: 'docker run --rm -v ./tmp:/opt/work test_clonezilla_customizer'
    expectCode: 1
    outputContains:
      - 'ERROR: Missing base image or custom-ocs'
      - 'Correct work directory provided?'
  invalid_iso:
    prerequisiteCwd: ./
    prerequisites:
      - 'touch tmp/custom-ocs' 
      - 'touch tmp/clonezilla.iso'
    command: 'docker run --rm -v ./tmp:/opt/work test_clonezilla_customizer'
    expectCode: 2
    outputContains:
      - 'ERROR: Invalid base image iso file. Missing live/filesystem.squashfs'
